
# socarphe - быстрый поиск эксперта.


## Введение
в данном документе cодержится описание проекта, его архитектура, частичный "Domain Analysis" и другие особенности

## Содержание

## Проблема

поиск подходящего специалиста-энтузиаста в небольшой проект/startup занимает очень много времени

## Решение

сервис по оперативному нахождению кандидата в проект/startup через нетворкинг аккаунта пользователя в соц. сети 



## (Не-)Функциональные требования


### Функциональные требования
#### F-0.0 Система должна получать от пользователя набор ключевых слов для поиска специалиста
#### F-0.1 Система должна проводить анализ друзей по переданной ссылке на аккаунт в соц. сети ВК на наличие людей с ключевыми словами
#### F-1. Система должна проводить поиск и анализ кандидатов от 5 до 20 минут(в зависимости от указанной глубины поиска)
#### F-2. Система должна выдавать результаты анализа в течечение 10 секунд после проведения поиска и анализа
#### F-3. Система должна запоминать кодовые слова, чтобы в дальнейшем предлагать пользователю дополнительные определения при вводе им кодовых слов
#### F-4. Система должна создавать 2 (две) очереди запросов на анализ пользователей

### Нефункциональные требования 
#### NF-0.1 Система должна обслуживать до 2 (двух) одновременных пользователей 
#### NF-0.2 Система должна быть горизонтально масштабируемой для увеличения числа одновременных пользователей 
#### NF-0.3 При большой нагрузке на систему(количество одновременно пользователей первышает максимально расчитаную планку), она не должна прекращать свою работу, а уведомлять пользователя, что на данный момент сервера перегружены и выводить пользователю предполагаемое время ожидания.
#### NF-1. Система должна быть доступна для просмотра с компьютера и со смартфона
#### NF-2. Новая учетная запись пользователя должна быть создана менее чем за 2000 ms

## Архитектура

Выбрали для нашей системы паттерн [**Model-View-ViewModel**](https://ru.wikipedia.org/wiki/Model-View-ViewModel) (MVVM), потому что решили разделить проект на три самодостаточных блока - Сайт, БД и сервер поиска. Блоки коммуницируют только с "соседом". Это сделано для того, чтобы далее масштабировать блок View - сайт, TG-бот, VK-бот. И блок Model - на раздельные поисковые машины.

MVVM подходит для хорошей параллелизации процесов из-за независимости блоков друг от друга. Модуль View может быть как и сайтом, так и ботом, на функционал системы это не повлияет, однако скорость смены или добавления блока возрастает в разы.

 ### Компонентная модель (Model-View-ViewModel)
 
 ![alt text](GeneralArchitecture.png "GeneralArchitecture")

Блоки коммуницируют только с "соседом". У сайта нет доступа к серверу поиска. База данных является прокладкой между сайтом и поиском. В ней сохраняются все результаты запросов, отображаются новые запросы.

 #### View (сайт)
 
 ![alt text](ViewMain.png "ViewMain")
 
 Сайт сделан с помощью стандартных фреймворков, от пользователя требуется только авторизация и данные по поиску. Сайт также используется для приобретения премиум-статуса. На БД запросы посылаются на PHP языке.
 
 ![alt text](ViewUser.png "ViewUser")
 
 для чего пользователь использует сайт
 
 ![alt text](ViewFramework.png "ViewUser")

основные используемые фреймворки

 #### ViewModel (БД)
 
 как устроена БД:
 
 ![alt text](ViewModelDivided.png "ViewModeDivided")
 
 БД делится на три части - 
 - список пользователей и информации о них
 - очередь запросов
 - история запросов
 
 как View взаимодействует с БД при обработке пользователей:
 
 ![alt text](ViewToViewModelUsers.png "ViewModel")
 
 как View взаимодействует с БД при обработке поисковых запросов:
 
 ![alt text](ViewModel.png "ViewModel")
 
 
 #### Model (сервер поиска)
 
 Ниже подробное описание алгоритма поиска кандидатов
 
 ![alt text](ModelAlg.png "View")
 
 Ниже подробное описание проверки статуса пользователя для определения параметров поиска.
 
 ![alt text](ViewModelToModel.png "View")
 
 ## Референсные модели
 
 https://www.ibm.com/cloud/architecture/architectures/aiAnalyticsArchitecture/reference-architecture
 
 ## Осуществление доступа пользователя
 Пользователь взаимодействует с системой на веб-сайтем через браузер. Для доступа к сайту пользовательское устройство должно соответсвовать критериям: 
 
 - IOS-устройства с ПО версии не ниже 9.3.6
 - Android-устройства, с ПО не ниже версии 4.4
 - Windows-устройства с версией 7.0 и выше
 - MacOs-устройства с версией не ниже 10.10
 - Linux-устройства c дистрибутивами: ниже Ubuntu 14.04 (совместимость только с 64-разрядными системами), Debian 8, openSUSE 13.3, Fedora 24.

 ## Use-Cases
 
 ### **Регистрация пользователя**
 #### 1. Пользователь заходит на сайт
 #### 2. Пользователь выбирает способ регистрации:
 ##### - 2FA по номеру телефона
 ##### - email + пароль
 ##### - авторизация через ВК
 #### 3. Система проверяет корректность данных
 #### 4. Система вносит пользователя в список
 #### 5. Система выдает пользователю сообщение об успешной авторизации
 #### **Результат**: пользователь успешно зарегистрирован, авторизован и может работать с системой.
 #### **Возможные ошибки**: некорректные данные для регистрации, недоступность БД;
 
 _______
 
 ### **Авторизация пользователя**
 #### 1. Пользователь заходит на сайт
 #### 2. Пользователь выбирает способ авторизации:
 ##### - 2FA по номеру телефона
 ##### - email + пароль
 ##### - авторизация через ВК
 #### 3. Система проверяет корректность данных
 #### 4. Система проверяет в БД существует ли такой пользователь
 #### 5. Система возвращает пользователю сообщение об успешной аввторизации
 #### **Результат**: пользователь успешно авторизован и может работать с системой.
 #### **Возможные ошибки**: некорректные данные входа, отсутствие пользователя в БД, недоступность БД;
 
 _______
 
 ### **Повышение статуса пользователя**
 #### 1. Пользователь успешно авторизуется
 #### 2. Пользователь выбирает доступные опции для повышения статуса:
 ##### - предоставление дополнительных личных данных
 ##### - выбор тарифного плана и оплата на странице банка
 #### 3. Система проверяет корректны ли данные или прошла ли оплата
 #### 4. Система вносит учетную запись пользователя пометку о повышении статуса
 #### 5. Система выдает пользователю сообщение об успешном повышении статуса и предлагает произвести улучшенный поиск
 #### **Результат**: пользователь успешно произвел апгрейд статуса и имеет дополнительные поисковые возможности
 #### **Возможные ошибки**: некорректные предоставленные данные, не произошла оплата, недоступность БД;
 
 _______
 
 ### **Оформление поискового запроса**
 #### 1. Пользователь успешно авторизуется
 #### 2. Пользователю предлагаются в зависимости от его статуса опции поиска:
 ##### - поик 3-ех кандидатов по ключевым словам
 ##### - поиск 20-ти кандидатов по ключевым словам
 ##### - поиск 100 кандидатов по ключевым словам
 #### 3. Система вносит в БД запрос на поиск нужной глубины
 #### 4. Система выводит пользователю предполагаемое время ожидания и предлагает прислать уведомление по окончанию поиска
 #### 5. Система выдает пользователю список подходящих кандидатур с ссылками на их страницы
 #### 6. Система предлагает пользователю попробовать повторный поиск по ключевым словам, которые она считает более актуальными для поиска
 #### **Результат**: пользователь произвел поиск и получил список кандидатов в проект/startup.
 #### **Возможные ошибки**: недоступность БД;
 
 _______
 
 
 ## Клиенты и пользователи

